# 🔥 防火墙配置指南

如果手机无法访问服务器，很可能是防火墙阻止了连接。按照以下步骤配置：

## 🪟 Windows 防火墙配置

### 方法一：允许Python通过防火墙（推荐）

1. **打开防火墙设置**
   - 按 `Win + S`，搜索"防火墙"
   - 点击"Windows Defender 防火墙"

2. **允许应用通过防火墙**
   - 点击左侧"允许应用或功能通过 Windows Defender 防火墙"
   - 点击"更改设置"按钮（需要管理员权限）

3. **添加Python**
   - 点击"允许其他应用"
   - 点击"浏览"
   - 找到Python安装目录，通常位于：
     - `C:\Users\你的用户名\AppData\Local\Programs\Python\Python3x\python.exe`
     - 或 `C:\Python3x\python.exe`
   - 选择 `python.exe`，点击"添加"
   - 勾选"专用"和"公用"两个复选框
   - 点击"确定"

### 方法二：临时关闭防火墙（不推荐，仅用于测试）

⚠️ **注意：** 这会让你的电脑更容易受到攻击，测试完后请重新开启。

1. 打开"Windows Defender 防火墙"
2. 点击左侧"启用或关闭 Windows Defender 防火墙"
3. 临时关闭"专用网络设置"和"公用网络设置"的防火墙
4. 测试手机访问
5. **测试完后记得重新开启防火墙！**

### 方法三：添加端口规则（高级）

1. 打开"Windows Defender 防火墙"
2. 点击左侧"高级设置"
3. 点击左侧"入站规则"
4. 点击右侧"新建规则"
5. 选择"端口"，点击"下一步"
6. 选择"TCP"，输入端口号：`8000`，点击"下一步"
7. 选择"允许连接"，点击"下一步"
8. 全部勾选（域、专用、公用），点击"下一步"
9. 输入名称：`惊喜贺卡服务器`，点击"完成"

## ✅ 验证配置

配置完成后：
1. 确保服务器正在运行（运行 `启动服务器.bat`）
2. 在手机浏览器访问：`http://你的IP:8000`
3. 如果还是无法访问，尝试重启服务器

## 🆘 仍然无法访问？

1. **检查网络**
   - 确保手机和电脑在同一个WiFi网络
   - 尝试用电脑访问 `http://localhost:8000` 确认服务器正常

2. **检查IP地址**
   - 运行 `获取IP地址.bat` 确认IP地址正确
   - 确保IP地址不是 `127.0.0.1` 或 `169.254.x.x`

3. **尝试其他端口**
   - 如果8000端口被占用，可以修改端口号
   - 在 `启动服务器.bat` 中将 `8000` 改为其他端口（如 `8080`）

4. **重启网络**
   - 重启路由器
   - 重新连接WiFi

## 📱 测试步骤

1. ✅ 电脑浏览器访问 `http://localhost:8000` - 应该能正常显示
2. ✅ 手机浏览器访问 `http://你的IP:8000` - 应该能正常显示
3. ✅ 如果步骤1成功但步骤2失败，说明是防火墙问题

## 💡 小贴士

- 配置防火墙后，下次启动服务器时就不需要再配置了
- 如果使用公司或学校网络，可能需要联系网络管理员
- 某些杀毒软件也可能阻止连接，需要在其设置中允许

